import{r as a,u as ze,q as ce,f as e,I as o,s as oe,t as i,T as N,B as d,S as de,v as qe,P as Fe,w as He,L as x,x as Ue,C as p,y as l,z as c,D as Ve,E as C,V as he,F as h,H as xe,J as pe,K as ue,M as ge,N as v,U as je,W as $e,X as Ge,Y as w,Z as Ke,_ as me,$ as Qe,a0 as L,a1 as fe}from"./vendor-DLnYv2dk.js";import{c as Je,f as Xe,g as E,M as Ze,a as be}from"./action-DYnQyPCK.js";import{s as en,p as nn}from"./section-banner-3-DJkqu9P_.js";import{C as sn}from"./ConfirmationModal-DdBWPFNX.js";const tn="/assets/theme-help-banner.svg";function pn(){var K,Q,J,X,Z,ee,ne,se,ie,te,ae,le,re;const[D,an]=a.useState(!1),[s,O]=a.useState([]),[R,ye]=a.useState(!1),[g,Y]=a.useState(!1),[W,Ce]=a.useState(),[ve,k]=a.useState(!1),[we,z]=a.useState(!1),[S,ke]=a.useState(null),[u,q]=a.useState(1),[Se,ln]=a.useState(1),[r,F]=a.useState(),[H,U]=a.useState(!1),[Me,Pe]=a.useState(!0),b=a.useRef([]),j=10,Ae=new Ze,m=ze(),V=new URLSearchParams(window.location.search),Ie=V.get("shop"),M={},{data:P,isPending:_e}=ce({queryKey:["app_status"],queryFn:async()=>(await be(E("/app_status"))).json(),staleTime:0,refetchOnMount:!0}),{data:A,isPending:rn}=ce({queryKey:["dashboard"],queryFn:async()=>(await be(E("/dashboard"))).json(),staleTime:0,refetchOnMount:!0});for(const[n,t]of V.entries())M[n]=t;const y=n=>{n&&!b.current.includes(n)&&b.current.push(n)};a.useEffect(()=>{if(!b.current.length)return;const n=new IntersectionObserver(t=>{t.forEach(f=>{f.isIntersecting&&(f.target.classList.add("loaded"),n.unobserve(f.target))})});return b.current.forEach(t=>{t&&n.observe(t)}),()=>{n.disconnect()}},[r,H,s]),a.useEffect(()=>{if(R){const n=()=>{document.hidden||GetAnalytics()};return document.addEventListener("visibilitychange",n),()=>{document.removeEventListener("visibilitychange",n)}}},[R]),a.useEffect(()=>{const n=localStorage.getItem("orderBannerDismissedAt");(!n||new Date-new Date(n)>7*24*60*60*1e3)&&U(!0)},[]);const Te=()=>{F(n=>({...n,extension_banner:{...n.extension_banner,status:!0}})),ye(!0)},Be=()=>{localStorage.setItem("orderBannerDismissedAt",new Date().toISOString()),U(!1)};a.useEffect(()=>{P&&F(P)},[P]),a.useEffect(()=>{A&&O(A)},[A]);const Ne=async()=>{z(!0);const n=new FormData;n.append("id",W),n.append("shop",Ie),n.append("theme",Ae.encode(S==null?void 0:S.theme_id,42));const t=await Xe(E("/delete_template"),n);z(!1),(t==null?void 0:t.status)===!0&&(k(!1),O(f=>({...f,templates:f.templates.filter(We=>We.uid!==W)}))),shopify.toast.show(t==null?void 0:t.message,{duration:3e3})},I=(K=s==null?void 0:s.sections)==null?void 0:K.length,$=u*j,Le=$-j,_=(Array.isArray(s==null?void 0:s.sections)?s.sections.slice(Le,$):[]).map((n,t)=>e.jsxs(o.Row,{id:t,children:[e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"300px",whiteSpace:"normal",wordWrap:"break-word"},children:n==null?void 0:n.name})}),e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"},children:oe(n==null?void 0:n.created_at,"YYYY-MM-DD").format("Do MMM, YYYY")})}),e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"300px",whiteSpace:"normal",wordWrap:"break-word"},children:n==null?void 0:n.theme_name})}),e.jsx(o.Cell,{children:e.jsx(i,{align:"end",children:e.jsx(N,{content:"Click to Edit",dismissOnMouseOut:!0,width:"wide",children:e.jsx(d,{onClick:()=>window.open(n==null?void 0:n.edit),icon:de})})})})]},t)),Ee=(Q=s==null?void 0:s.templates)==null?void 0:Q.length,G=Se*j,De=G-j,T=Array.isArray(s==null?void 0:s.templates)?s==null?void 0:s.templates.slice(De,G):[],B=T==null?void 0:T.map((n,t)=>e.jsxs(o.Row,{id:t,children:[e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"280px",whiteSpace:"normal",wordWrap:"break-word"},children:Je(n==null?void 0:n.title)})}),e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"},children:oe(n==null?void 0:n.created_at,"YYYY-MM-DD").format("Do MMM, YYYY")})}),e.jsx(o.Cell,{children:e.jsx("div",{style:{maxWidth:"300px",whiteSpace:"normal",wordWrap:"break-word"},children:n==null?void 0:n.theme_name})}),e.jsx(o.Cell,{children:e.jsx("div",{children:e.jsxs(i,{gap:200,align:"end",children:[e.jsx(N,{content:"Click to Delete",dismissOnMouseOut:!0,width:"wide",children:e.jsx(d,{tone:"critical",onClick:()=>{ke(n),Ce(n==null?void 0:n.uid),k(!0)},icon:qe})}),e.jsx(N,{content:"Click to Edit",dismissOnMouseOut:!0,width:"wide",children:e.jsx(d,{onClick:()=>window.open(n==null?void 0:n.edit),icon:de})})]})})})]},t)),Oe=()=>{u<Math.ceil(I/j)&&q(u+1)},Re=()=>{u>1&&q(u-1)},Ye=()=>{window.$crisp&&window.$crisp.push(["do","chat:open"])};return e.jsx(Fe,{title:"Dashboard",subtitle:"Build faster, sell smarter â€” unlock beautiful sections, craft standout pages, and elevate your brand.",children:_e?e.jsx(e.Fragment,{children:e.jsx(i,{align:"center",blockAlign:"center",children:e.jsx(He,{size:"small"})})}):e.jsxs(x,{children:[((J=r==null?void 0:r.extension_banner)==null?void 0:J.status)===!1&&e.jsx(x.Section,{children:e.jsx("div",{className:"lazyContent",ref:y,children:e.jsx(Ue,{title:(X=r==null?void 0:r.extension_banner)==null?void 0:X.title,tone:"warning",action:{content:(ee=(Z=r==null?void 0:r.extension_banner)==null?void 0:Z.button)==null?void 0:ee.label,url:(se=(ne=r==null?void 0:r.extension_banner)==null?void 0:ne.button)==null?void 0:se.link,onAction:Te,target:"_blank"},children:e.jsx("p",{children:(ie=r==null?void 0:r.extension_banner)==null?void 0:ie.desc})})})}),H&&e.jsx(x.Section,{children:e.jsx("div",{className:"lazyContent",ref:y,children:e.jsx(p,{children:e.jsxs(l,{gap:400,children:[e.jsxs(i,{align:"space-between",children:[e.jsx(c,{variant:"headingMd",as:"h6",children:"Quick Guide"}),e.jsx(d,{tone:"critical",variant:"monochromePlain",onClick:Be,icon:Ve})]}),e.jsxs(C,{gap:400,columns:2,children:[e.jsxs(p,{padding:0,children:[e.jsxs(l,{gap:400,children:[e.jsx("div",{className:"dashboard-video",children:e.jsx(he,{videoLength:142,thumbnailUrl:en,onClick:()=>window.open("https://youtu.be/eJC9415VtC4"),loading:!0})}),e.jsxs(i,{align:"space-between",children:[e.jsx(h,{paddingInline:400,children:e.jsx(c,{variant:"headingMd",as:"h6",children:"Steps: How to Add Sections"})}),e.jsx(h,{paddingInline:400,children:e.jsx(d,{variant:"plain",onClick:()=>Y(n=>!n),icon:g?xe:pe})})]})]}),e.jsxs(ue,{open:g,id:"basic-collapsible",transition:{duration:"500ms",timingFunction:"ease-in-out"},expandOnPrint:!0,children:[e.jsx(h,{paddingInline:400,children:e.jsx("ol",{children:e.jsxs(l,{gap:100,children:[e.jsxs("li",{children:["Browse our ",e.jsx("strong",{children:'"Section Library"'})]}),e.jsx("li",{children:"Find a suitable section and check its preview."}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:'"Add Section"'})," and select your theme."]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:'"Add to Theme"'})," to complete the process."]})]})})}),e.jsx(h,{padding:400,children:e.jsx(d,{variant:"primary",onClick:()=>m({to:`/sectionLibrary?${new URLSearchParams(M)}`}),children:"View Sections"})})]}),g===!1&&e.jsx(h,{padding:200})]}),e.jsxs(p,{padding:0,children:[e.jsxs(l,{gap:400,children:[e.jsx("div",{className:"dashboard-video",children:e.jsx(he,{videoLength:100,thumbnailUrl:nn,onClick:()=>window.open("https://youtu.be/Dc6bdN4Mbpw")})}),e.jsxs(i,{align:"space-between",children:[e.jsx(h,{paddingInline:400,children:e.jsx(c,{variant:"headingMd",as:"h6",children:"Steps: How to Create Pages"})}),e.jsx(h,{paddingInline:400,children:e.jsx(d,{variant:"plain",onClick:()=>Y(n=>!n),icon:g?xe:pe})})]})]}),e.jsxs(ue,{open:g,id:"basic-collapsible",transition:{duration:"500ms",timingFunction:"ease-in-out"},expandOnPrint:!0,children:[e.jsx(h,{paddingInline:400,children:e.jsx("ol",{children:e.jsxs(l,{gap:100,children:[e.jsxs("li",{children:["Browse our ",e.jsx("strong",{children:'"Page Builder"'})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Create New Page"})," and define a page name."]}),e.jsxs("li",{children:["Browse our ",e.jsx("strong",{children:"Sections"})," and add sections to your page."]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})," to publish your page to your theme."]})]})})}),e.jsx(h,{padding:400,children:e.jsx(d,{variant:"primary",onClick:()=>m({to:`/page-builder?${new URLSearchParams(M)}`}),children:"View Pages"})})]}),g===!1&&e.jsx(h,{padding:200})]})]})]})})})}),e.jsx(x.Section,{children:e.jsx("div",{className:"lazyContent",ref:y,children:e.jsxs(l,{gap:400,children:[e.jsxs(i,{align:"space-between",children:[e.jsx(i,{align:"start",children:e.jsx(c,{variant:"headingMd",as:"h6",children:"My Sections"})}),((te=s==null?void 0:s.sections)==null?void 0:te.length)>0&&e.jsx(i,{align:"end",children:e.jsx(d,{onClick:()=>m({to:`/sectionLibrary${window.location.search}`,search:location.search}),children:"View All"})})]}),e.jsx(p,{children:e.jsx(ge,{marginInline:400,children:((ae=s==null?void 0:s.sections)==null?void 0:ae.length)===0?e.jsxs(l,{inlineAlign:"center",children:[e.jsx("img",{style:{maxHeight:"15rem"},src:"/assets/empty-data.png"}),e.jsxs(c,{as:"h2",tone:"subdued",variant:"bodyMd",children:["Click"," ",e.jsx(v,{removeUnderline:!0,children:e.jsx("strong",{onClick:()=>m({to:`/sectionLibrary${window.location.search}`}),children:"Add New Section"})})," ","to start creating beautiful pages by adding ready-made sections from SectionHub"]})]}):e.jsxs(l,{gap:200,children:[e.jsx(o,{itemCount:_.length,loading:D,headings:[{title:"Section Name"},{title:"Created Date"},{title:"Theme Name"},{title:"Customize",alignment:"end"}],selectable:!1,children:_}),e.jsx(je,{}),e.jsx(i,{align:"center",children:e.jsx($e,{label:`Showing ${_.length} of ${I||0} results`,hasNext:u<Math.ceil(I/j),hasPrevious:u>1,onNext:Oe,onPrevious:Re})})]})})})]})})}),e.jsx(x.Section,{children:Me===!0&&e.jsx(Ge,{title:"ðŸ’¡ Need Help Customizing Your Theme?",illustration:tn,primaryAction:{content:"ðŸ‘‰ Get in Touch with Us",onAction:()=>window.open("https://softpulseinfotech.com/shopify-theme-customization?utm_source=shopify_sectionhub_plugin&utm_medium=referral&utm_campaign=custom_work","_blank")},onDismiss:()=>Pe(!1),children:e.jsxs(l,{gap:100,children:[e.jsx("p",{children:"We're here to help!"}),e.jsx("p",{children:"If you need advanced theme customization beyond the ready-made sections, our team offers professional theme customization services."})]})})}),e.jsx(x.Section,{children:e.jsx("div",{className:"lazyContent",ref:y,children:e.jsxs(l,{gap:400,children:[e.jsxs(i,{align:"space-between",children:[e.jsx(i,{align:"start",children:e.jsx(c,{variant:"headingMd",as:"h6",children:"My Pages"})}),((le=s==null?void 0:s.templates)==null?void 0:le.length)>0&&e.jsx(i,{align:"end",children:e.jsx(d,{onClick:()=>m({to:`/page-builder${window.location.search}`}),children:"View All"})})]}),e.jsx(p,{children:e.jsx(ge,{marginInline:400,children:((re=s==null?void 0:s.templates)==null?void 0:re.length)===0?e.jsxs(l,{inlineAlign:"center",children:[e.jsx("img",{style:{maxHeight:"15rem"},src:"/assets/empty-data.png"}),e.jsxs(c,{as:"h2",tone:"subdued",variant:"bodyMd",children:["Click"," ",e.jsx(v,{removeUnderline:!0,children:e.jsx("strong",{onClick:()=>m({to:`/page-builder${window.location.search}`}),children:"Create New Page"})})," ","to start building your first page and leave a lasting impression on your audience."]})]}):e.jsxs(l,{gap:200,children:[e.jsx(o,{itemCount:B.length,loading:D,headings:[{title:"Page Name"},{title:"Created Date"},{title:"Theme Name"},{title:"",alignment:"end"}],selectable:!1,children:B}),e.jsx(je,{}),e.jsx(i,{align:"center",children:e.jsx("div",{className:"Polaris-Box",style:{"--pc-box-padding-block-start-xs":"var(--p-space-0)","--pc-box-padding-block-end-xs":"var(--p-space-0)","--pc-box-padding-inline-start-xs":" var(--p-space-300)","--pc-box-padding-inline-end-xs":"var(--p-space-300)"},children:e.jsx("div",{"aria-live":"polite",children:e.jsxs("span",{className:"Polaris-Text--root Polaris-Text--subdued",children:["Showing ",B.length," of"," ",Ee||0," results"]})})})})]})})})]})})}),e.jsx(x.Section,{children:e.jsxs(C,{gap:400,columns:2,children:[e.jsx(p,{children:e.jsxs(l,{gap:200,children:[e.jsxs(i,{gap:200,children:[e.jsx(w,{source:Ke}),e.jsx(c,{variant:"headingMd",as:"h6",children:"Help & Guidance"})]}),e.jsx(c,{wrap:!0,children:"Explore our Frequently Asked Questions for quick answers and helpful guidance!"}),e.jsx(v,{url:`helpGuide${location.search}`,children:e.jsxs(i,{gap:100,children:[e.jsx(w,{source:me}),"Visit help guide"]})})]})}),e.jsx(p,{children:e.jsxs(l,{gap:200,children:[e.jsxs(i,{gap:200,children:[e.jsx(w,{source:Qe}),e.jsx(c,{variant:"headingMd",as:"h6",children:"Need Help? Contact Us"})]}),e.jsx(c,{children:"Need assistance? Don't hesitate to contact us with your questions or support requests!"}),e.jsx(v,{target:"_blank",onClick:Ye,children:e.jsxs(i,{gap:100,children:[e.jsx(w,{source:me}),"contact support"]})})]})})]})}),e.jsx(x.Section,{children:e.jsx(p,{children:e.jsxs(l,{gap:400,children:[e.jsx(c,{variant:"headingMd",as:"h6",children:"Recommended Apps"}),e.jsxs(L,{children:[e.jsx(L.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:6,xl:6},children:e.jsxs(i,{gap:400,wrap:!1,children:[e.jsx(l,{children:e.jsx(fe,{style:{borderRadius:"5px"},source:"https://cdn.shopify.com/app-store/listing_images/65409159476964c185568de9a6844b90/icon/CNfTnYaqtvYCEAE=.png?height=53&quality=90&width=53"})}),e.jsxs(C,{gap:100,children:[e.jsx(c,{variant:"headingMd",as:"h6",children:"Wizio Bundle â€‘ Quantity Breaks"}),e.jsx(c,{children:"Boost AOV with quantity breaks, volume discounts & bundles"}),e.jsx(i,{align:"start",children:e.jsx(d,{onClick:()=>window.open(" https://apps.shopify.com/wizio-product-bundle-upsell?utm_source=sections&utm_medium=app","_blank"),children:"View App"})})]})]})}),e.jsx(L.Cell,{columnSpan:{xs:6,sm:3,md:3,lg:6,xl:6},children:e.jsxs(i,{gap:400,wrap:!1,children:[e.jsx(l,{children:e.jsx(fe,{style:{borderRadius:"5px"},source:" https://cdn.shopify.com/app-store/listing_images/50b71663d97e40f42439a2d725d54eb9/icon/CMHK2bj0lu8CEAE=.jpg?height=53&quality=90&width=53"})}),e.jsxs(C,{gap:100,children:[e.jsx(c,{variant:"headingMd",as:"h6",children:"Ctx: WhatsApp Chat + Marketing"}),e.jsx(c,{children:"WhatsApp marketing, chat support & abandoned cart recovery"}),e.jsx(i,{align:"start",children:e.jsx(d,{onClick:()=>window.open("https://apps.shopify.com/whatsapp-sharing?utm_source=sections&utm_medium=app","_blank"),children:"View App"})})]})]})})]})]})})}),e.jsx(sn,{isOpen:ve,setIsOpen:k,text:"This action is irreversible. Deleting this page will permanently erase all its content. Would you like to continue?",title:"Confirm Page Deletion",buttonText:"Delete",buttonAction:()=>Ne(),destructive:!0,loading:we}),e.jsx(x.Section,{})]})})}export{pn as default};
